<!DOCTYPE html>
<html>

<head>
    <title>My JavaScript Example</title>
</head>

<body>
    <h1>My JavaScript Example</h1>
    <p>Click the button to see an alert.</p>
    <button onclick="showAlert()">Click me</button>

    <script>
        async function loadSources(url) {
            // Prepend the CORS proxy to the target URL
            const proxyUrl = "https://cors-anywhere.herokuapp.com/";
            const targetUrl = proxyUrl + url;

            // Fetch the HTML content
            const response = await fetch(targetUrl);
            const html = await response.text();

            // Create a new DOMParser
            var parser = new DOMParser();
            // Use the DOMParser to turn the HTML string into a document
            var doc = parser.parseFromString(html, 'text/html');

            // Extract all the sources
            const selectors = ['img[src]', 'script[src]', 'link[rel="stylesheet"][href]', 'source[src]', 'iframe[src]'];
            const sources = [];

            selectors.forEach(selector => {
                const elements = doc.querySelectorAll(selector);
                for (let i = 0; i < elements.length; i++) {
                    const element = elements[i];

                    const sourceUrl = new URL(element.getAttribute(selector.includes('href') ? 'href' : 'src'), url).href;
                    sources.push(sourceUrl);
                }
            });

            return sources;
        }

        // USAGE: 
        // uncomment the next line and replace 'https://example.com' with your desired URL
        loadSources('https://amirhossein-rajabpour.notion.site/amirhossein-rajabpour/Portfolio-a48ef30eeabb466897b0fb263b379846').then(sources => console.log(sources));
    </script>
</body>

</html>